-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create Button
local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 150, 0, 50)
button.Position = UDim2.new(0.4, 0, 0.8, 0)
button.Text = "UpWalk"
button.BackgroundColor3 = Color3.fromRGB(50, 150, 250)
button.TextColor3 = Color3.new(1, 1, 1)
button.Parent = screenGui

-- Variables
local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local humanoid = char:WaitForChild("Humanoid")

local upwalking = false

-- Function to toggle upwalk loop
local function toggleUpwalk()
	upwalking = not upwalking
	if upwalking then
		button.Text = "Stop UpWalk"

		-- Loop until stopped
		task.spawn(function()
			while upwalking do
				-- Run UpWalk for 3 seconds
				local t = tick()
				while upwalking and tick() - t < 1 do
					hrp.Velocity = Vector3.new(hrp.Velocity.X, 30, hrp.Velocity.Z)
					task.wait(0.1)
				end

				-- Stop phase (1 sec wait)
				if upwalking then
					button.Text = "Resting..."
					task.wait(1)
					button.Text = "Stop UpWalk"
				end
			end
			button.Text = "UpWalk"
		end)
	else
		button.Text = "UpWalk"
	end
end

-- Button Click
button.MouseButton1Click:Connect(toggleUpwalk)

-- Reset when character respawns
player.CharacterAdded:Connect(function(c)
	char = c
	hrp = char:WaitForChild("HumanoidRootPart")
	humanoid = char:WaitForChild("Humanoid")
end)
